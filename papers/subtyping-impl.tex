\newcommand{\SubConvI}{%
\UAX{SubConv}
{$T \eqbi U$}
{$\subimpl{`G}{(\lambda x. x)}{T}{U}$}
{} 
}

\def\SubProdI{%
\BAX{SubProd}
{$\subimpl{`G}{c_1}{U}{T}$}
{$\subimpl{`G, x : U}{c_2}{V[c_1~x/x]}{W}$}
{$\subimpl{`G}{\lambda f.\lambda x. c_2~(f~(c_1~x))}{\Pi x : T.V}{\Pi x : U.W}$}
{}
}

\def\SubSigmaI{%
\BAX{SubSigma}
{$\subimpl{`G}{c_1}{T}{U}$}
{$\subimpl{`G, x : T}{c_2}{V}{W[c_1~x/x]}$}
{$\subimpl{`G}
  {\lambda (x, y). (c_1~x, c_2~y)}
  {\Sigma x : T. V}{\Sigma x : U. W}$}
{}
}

\def\SubLeftI{%
\UAX{SubLeft}
%{$`G, x : U \typec P : \Prop$}
{$\subimpl{`G}{c}{U}{V}$}
{$\subimpl{`G}{c `o \pi_1}
  {\subset{x}{U}{P}}{V}$}
{}
}
    
\def\SubRightI{%
\UAX{SubRight}
%{$`G, x : U \typec P : \Prop$}
{$\subimpl{`G}{c}{T}{U}$}
{$\subimpl{`G}
  {\lambda t : T. \elt{U}{(\lambda x : U.P)}{(c~t)}{?_{P[c~t/x]}}}
  {T}{\subset{x}{U}{P}}$}
{}
}

\def\subtiFig{
\begin{figure}[h]
  \begin{center}
    \def\fCenter{\subtd}
    
    \vspace{\infvspace}
    \SubConvI\DP

    \vspace{\infvspace}
    \SubProdI\DP

    \vspace{\infvspace}
    \SubSigmaI\DP
    
    \vspace{\infvspace}
    \SubLeftI\DP
    
    \vspace{\infvspace}
    \SubRightI\DP
    
  \end{center}
  \label{subtyping-impl-rules}
  \caption{Réecriture du sous-typage vers \Coq}
\end{figure}
}

\def\subtiShortContent{
  \begin{center}
    \def\fCenter{\subti}
    \SubConvI\DP
    \vspace{\infvspace}
    \SubLeftI\DP

    \vspace{\infvspace}
    \SubRightI\DP

    \vspace{\infvspace}
    \SubProdI\DP
    
    \vspace{\infvspace}
    \SubSigmaI\DP
  \end{center}}

\def\subtiShort{
\begin{figure}[h]
  \subtiShortContent
  \label{subtyping-impl-rules}
  \caption{Réecriture du sous-typage vers \Coq}
\end{figure}
}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "subset-typing"
%%% LaTeX-command: "TEXINPUTS=\"style:$TEXINPUTS\" latex"
%%% End: 
