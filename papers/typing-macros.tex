%\def\ifstreq#1#2{\ifEqString{#1}{#2}}

\def\impsub{\rightslice}

\def\judgewf{\vdash_{wf}}
\def\judgetyped{\vdash}
\def\judgetypea{\vdash_{\bullet}}
\def\judgetypei{\vdash_{\Box}}
\def\typed{\judgetyped}
\def\typedwf{\judgewf}
\def\typea{\judgetypea}
\def\typeawf{\judgetypea_{wf}}
\def\typei{\judgetypei}
\def\typeiwf{\judgetypei_{wf}}
\def\typec{\vdash_{CCI}}
\def\type{\typed}
\def\typewf{\typedwf}
\def\judgesubd{\vdash}
\def\judgesuba{\vdash_{\bullet}}
\def\judgesubi{\vdash_{\Box}}
\def\subtd{\judgesubd}
\def\subta{\judgesuba}
\def\subti{\judgesubi}
\def\subt{\subtd}
\def\subd{\rightslice}
\def\suba{\rightslice_{\bullet}}
\def\subi{\rightslice_{\Box}}
\def\sub{\subd}

\def\judgerw{~{\mbox{$"~>"$}}~}
\def\wf{\judgewf}

\def\mualgo{\mu_{\bullet}}
\def\muimpl{\mu_{\Box}}


% \def\typenv#1{\typeout{Changing to #1 version}
%   \def\typewf{\csname\string\type\string#1\string{wf}\endcsname}
%   \def\type{\csname\string\type\string#1\endcsname}
%   \def\subt{\csname\string\subt#1\endcsname}
%   \def\sub{\csname\string\sub\string#1\endcsname}
% }

\newcommand{\typenvd}{
  \typeout{Changing to declarative version}
  %\def\typewf{\typewf}
  \def\type{\typed}
  \def\subt{\subtd}
  \def\sub{\subd}
  \def\fCenter{\type}
}

\newcommand{\typenva}{
  \typeout{Changing to algorithmic version}
  %\def\typewf{\typewf}
  \def\type{\typea}
  \def\subt{\subta}
  \def\sub{\suba}
  \def\fCenter{\type}
}

\newcommand{\typenvi}{
  \typeout{Changing to implementation version}
  %\def\typewf{\typewf}
  \def\type{\typei}
  \def\subt{\subti}
  \def\sub{\subi}
  \def\subhnf{\subihnf}
  \def\fCenter{\type}
}


\newcommand{\matht}[1]{\text{{\tt #1}}}

\def\even{\matht{even}}
\def\odd{\matht{odd}}

\def\WfEmptyRule{Wf-Empty}
\def\WfVarRule{Wf-Var}
\def\PropSetRule{PropSet}
\def\TypeRule{Type}
\def\VarRule{Var}
\def\ProdRule{Prod}
\def\AbsRule{Abs}
\def\AppRule{App}
\def\LetInRule{Let-In}
\def\SigmaRule{Sigma}
\def\SumRule{Sum}
\def\LetSumRule{Let-Sum}
\def\SumInfRule{Sum-Inf}
\def\SumDepRule{Sum-Dep}
\def\SubsetRule{Subset}
\def\LetSubRule{Let-Sub}
\def\SubsumRule{Coerce}
\def\CoerceRule{Coerce}
\def\ConvRule{Conv}

\def\SubReflRule{Sub-Refl}
\def\SubTransRule{Sub-Trans} 
\def\SubConvRule{Sub-Conv}
\def\SubHnfRule{Sub-$\downarrow$}
\def\SubIdRule{Sub-Id}
\def\SubBetaRule{Sub-$\beta$}
\def\SubEqRule{Sub-Eq}
\def\SubProdRule{Sub-Prod}
\def\SubSigmaRule{Sub-Sigma}
\def\SubLeftRule{Sub-Left}
\def\SubRightRule{Sub-Right}
\def\SubProofRule{Sub-Proof}
\def\SubSubRule{Sub-Subset}
\def\SubTransRule{Sub-Trans}

\def\ifstreq#1#2{\def\testa{#1}\def\testb{#2}\ifx\testa\testb }

\def\inductionon#1{
  \ifstreq{#1}{typing-decl}{Par induction sur la dérivation de typage.}
  \else\ifstreq{#1}{typing-algo}{Par induction sur la dérivation de
    typage dans le système algorithmique.}
  \else\ifstreq{#1}{typing-impl}{Par induction sur la dérivation de
    typage.}
  \else\ifstreq{#1}{subtyping-decl}{Par induction sur la dérivation de
    sous-typage.}
  \else\ifstreq{#1}{subtyping-algo}{Par induction sur la dérivation de
    sous-typage dans le système algorithmique.}
  \else\ifstreq{#1}{subtyping-impl}{Par induction sur la dérivation de
    sous-typage.}
  \fi}

\def\inductionon#1{
  \ifstreq{#1}{typing-decl}Par induction sur la dérivation de typage.
  \else\ifstreq{#1}{typing-algo}Par induction sur la dérivation de
    typage dans le système algorithmique.
    \else\ifstreq{#1}{typing-impl}Par induction sur la dérivation de
    typage.
  \else\ifstreq{#1}{subtyping-decl}Par induction sur la dérivation de
    sous-typage.
  \else\ifstreq{#1}{subtyping-algo}Par induction sur la dérivation de
    sous-typage dans le système algorithmique.
  \else\ifstreq{#1}{subtyping-impl}Par induction sur la dérivation de
    sous-typage.
  \fi}

\newenvironment{induction}[1][text=\empty]{
  \if#1\empty\text\else\inductionon{#1}\fi
  \begin{list}{Unset default item}{}}
  {\end{list}}

%% Should be able to work with \else...
\newcommand{\inductionrule}[1]
{\ifstreq{#1}{WfEmpty}{\WfEmptyRule}
\fi\ifstreq{#1}{WfVar}\WfVarRule
\fi\ifstreq{#1}{PropSet}\PropSetRule
\fi\ifstreq{#1}{Type}\TypeRule
\fi\ifstreq{#1}{Var}\VarRule
\fi\ifstreq{#1}{Prod}\ProdRule
\fi\ifstreq{#1}{Abs}\AbsRule
\fi\ifstreq{#1}{LetIn}\LetInRule
\fi\ifstreq{#1}{Sigma}\SigmaRule
\fi\ifstreq{#1}{Sum}\SumRule
\fi\ifstreq{#1}{LetSum}\LetSumRule
\fi\ifstreq{#1}{App}\AppRule
\fi\ifstreq{#1}{SumInf}\SumInfRule
\fi\ifstreq{#1}{SumDep}\SumDepRule
\fi\ifstreq{#1}{LetSub}\LetSubRule
\fi\ifstreq{#1}{Subsum}\CoerceRule
\fi\ifstreq{#1}{Coerce}\CoerceRule
\fi\ifstreq{#1}{Conv}\ConvRule
\fi\ifstreq{#1}{Subset}\SubsetRule
\fi\ifstreq{#1}{SubRefl}\SubReflRule
\fi\ifstreq{#1}{SubTrans}\SubTransRule
\fi\ifstreq{#1}{SubConv}\SubConvRule
\fi\ifstreq{#1}{SubHnf}\SubHnfRule
\fi\ifstreq{#1}{SubEq}\SubEqRule
\fi\ifstreq{#1}{SubProd}\SubProdRule
\fi\ifstreq{#1}{SubSigma}\SubSigmaRule
\fi\ifstreq{#1}{SubLeft}\SubLeftRule
\fi\ifstreq{#1}{SubId}\SubIdRule
\fi\ifstreq{#1}{SubBeta}\SubBetaRule
\fi\ifstreq{#1}{SubRight}\SubRightRule
\fi\ifstreq{#1}{SubProof}\SubProofRule
\fi\ifstreq{#1}{SubSub}\SubSubRule
\fi\ifstreq{#1}{*}\_
\fi}

\newcommand{\rulename}[1]{{\sc \inductionrule{#1}}}

% Factorize!!!
\def\indrule{\rulename}
\def\irule{\rulename}
\def\rname{\rulename}

\def\rulelabel{\rulename}

\def\case#1{\item[-- \rulename{#1} :]}
\newcommand{\casetwo}[2]{\item[-- \rulename{#1}, \rulename{#2} :]}
\def\casethree#1#2#3{\item[-- \rulename{#1}, \rulename{#2},
  \rulename{#3} :]}
\def\casefour#1#2#3#4{\item[-- \rulename{#1}, \rulename{#2},
  \rulename{#3}, \rulename{#4} :]}

\def\infvspace{1em}

\newcommand{\ip}[2]{\llbracket #1 \rrbracket_{#2}}
\newcommand{\ipG}[1]{\llbracket #1 \rrbracket}
\newcommand{\ipt}[2]{\llfloor #1 \rrfloor_{#2}}
\newcommand{\ipT}[2]{\llceil #1 \rrceil_{#2}}

\newcommand{\coerce}[3]{\sref{coerce}_{#1}~#2~#3}
\newcommand{\coercehnf}[3]{\hnf{\sref{coerce}}_{#1}~#2~#3}
\newcommand{\ex}[2]{?_{#1 \vdash #2}}
\def\iG{\ipG{`G}}

\newcommand{\pair}[3]{(#2, #3)_{#1}}
\newcommand{\eltpit}{\sigma_1}
\newcommand{\eltpip}{\sigma_2}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "subset-typing"
%%% LaTeX-command: "TEXINPUTS=\"style:$TEXINPUTS\" latex"
%%% End: 
