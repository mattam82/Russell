\newcommand{\WfEmptyFull}[1]{
  \UAX{WfEmpty}
  {}
  {$\seq []$}
  {}
}  
\newcommand{\WfEmpty}[1][\Gamma]{\WfEmptyFull{#1}}
  
\newcommand{\WfVarFull}[4]{
  \UAX{WfVar}
  {$\tgen{#1}{#2}{#3}$}
  {$\wf #1, #4 : #2$}
  {$#3 `: \setproptype{} `^{} #4 `; #1$}
}
\newcommand{\WfVar}[1][\Gamma]{\WfVarFull{#1}{A}{s}{x}}

\newcommand{\PropSetFull}[2]{
  \UAX{PropSet}
  {$\wf #1$}
  {$\tgen{#1}{#2}{\Type}$}
  {$#2 `: \setprop$} 
}
\newcommand{\PropSet}[1][\Gamma]{\PropSetFull{#1}{s}}


\newcommand{\TypeTypeFull}[1]{
  \UAX{Type}
  {$\wf #1$}
  {$\tgen{#1}{\Type(i)}{\Type(i + 1)}$}
  {$i `: `N$}
}
\newcommand{\TypeType}[1][\Gamma]{\TypeTypeFull{#1}}

\newcommand{\VarFull}[3]{
  \BAX{Var}
  {$\wf #1$}
  {$#2 : #3 `: #1$}
  {$\tgen{#1}{#2}{#3}$}
  {}
}
\newcommand{\Var}[1][\Gamma]{\VarFull{#1}{x}{A}} 

\newcommand{\ProdFull}[7]{
  \BAX{Prod}
  {$\tgen{#1}{#2}{#3}$}
  {$\tgen{#1, #4 : #2}{#5}{#6}$}
  {$\tgen{#1}{\Pi #4 : #2.#5}{#7}$}
  {$(#3, #6, #7) `: \mathcal{R} `^{} #4 `; #1$}
}
\newcommand{\Prod}[1][\Gamma]{\ProdFull{#1}{T}{s_1}{x}{U}{s_2}{s_3}}

\newcommand{\AbsFull}[6]{
  \BAX{Abs}
  {$\tgen{#1}{\Pi #2 : #3.#4}{#5}$}
  {$\tgen{#1, #2 : #3}{#6}{#4}$}
  {$\tgen{#1}{\lambda #2 : #3. #6}{\Pi #2 : #3.#4}$}
  {$#2 `; #1$}
}

\newcommand{\Abs}[1][\Gamma]{\AbsFull{#1}{x}{T}{U}{s}{M}}

 \newcommand{\AppFull}[6]{
  \BAX{App}
  {$\tgen{#1}{#2}{\Pi #3 : #4. #5}$}
  {$\tgen{#1}{#6}{#4}$}
  {$\tgen{#1}{(#2 #6)}{#5 [ #6 / #3 ]}$}
  {$$}
}

\newcommand{\App}[1][\Gamma]{\AppFull{#1}{f}{x}{V}{W}{u}}

\newcommand{\SigmaRFull}[5]{
  \BAX{Sigma}
  {$\tgen{#1}{#2}{#3}$}
  {$\tgen{#1, #4 : #2}{#5}{#3}$}
  {$\tgen{#1}{\Sigma #4 : #2.#5}{#3}$}
  {$#3 `: \{ \Prop, \Set \} `^{} #4 `; #1$} 
}
\newcommand{\SigmaR}[1][\Gamma]{\SigmaRFull{#1}{T}{s}{x}{U}}

\newcommand{\SumDepFull}[7][\Gamma]{
  \TAX{SumDep}
  {$\tgen{#1}{\Sigma #2 : #5. #6}{#7}$}
  {$\tgen{#1}{#3}{#5}$}
  {$\tgen{#1}{#4}{#6[#3 / #2]}$}
  {$\tgen{#1}{\pair{\Sigma #2 : #5.#6}{#3}{#4}}{\Sigma #2 : #5.#6}$}
  {}
}

\newcommand{\SumDep}[1][\Gamma]{\SumDepFull[#1]{x}{t}{u}{T}{U}{s}}
 
\newcommand{\PiLeftFull}[5][\Gamma]{
  \UAX{PiLeft}
  {$\tgen{#1}{#2}{`S #3 : #4.#5}$}
  {$\tgen{#1}{\pi_1~#2}{#4}$}
  {}
}
\newcommand{\PiLeft}[1][\Gamma]{\PiLeftFull[#1]{t}{x}{T}{U}}

\newcommand{\PiRightFull}[5][\Gamma]{
  \UAX{PiRight}
  {$\tgen{#1}{#2}{`S #3 : #4.#5}$}
  {$\tgen{#1}{\pi_2~#2}{#5[\pi_1~#2/#3]}$}
  {}
}
\newcommand{\PiRight}[1][\Gamma]{\PiRightFull[#1]{t}{x}{T}{U}}


\newcommand{\SubsetFull}[4]{
  \BAX{Subset}
  {$\tgen{#1}{#3}{\Set}$}
  {$\tgen{#1, #2 : #3}{#4}{\Prop}$}
  {$\tgen{#1}{\mysubset{#2}{#3}{#4}}{\Set}$}
  {$#2 `; #1$}
}
\newcommand{\SubsetR}[1][\Gamma]{\SubsetFull{#1}{x}{U}{P}}


\newcommand{\SubsumFull}[5]{
  \TAX{Subsum}
  {$\tgen{#1}{#4}{#5}$}
  {$\tgen{#1}{#2}{#3}$}
  {$#5 \sub #2$} % #1 \subt 
  {$\tgen{#1}{#4}{#2}$}
  {}
}
\newcommand{\Subsum}[1][\Gamma]{\SubsumFull{#1}{T}{s}{t}{U}} 

\def\Coerce{\Subsum}

\newcommand{\ConvFull}[5]{
  \TAX{Conv}
  {$\tgen{#1}{#2}{#3}$}
  {$\tgen{#1}{#4}{#5}$}
  {$#5 \eqbr #2$}
  {$\tgen{#1}{#4}{#2}$}
  {}
}
\newcommand{\Conv}[1][\Gamma]{\ConvFull{#1}{T}{s}{t}{U}}

\def\typedFig
{
\begin{figure}[tb]
  \begin{center}
    \def\fCenter{\wf}
    \WfEmpty \DP\quad
    \WfVar \DP
    
    \def\fCenter{\typed}
    \vspace{\infvspace}
    \PropSet\DP

%    \vspace{\infvspace}
%    \TypeType\DP

    \vspace{\infvspace}
    \Var\DP
    
    \vspace{\infvspace}
    \Prod\DP
    
    \vspace{\infvspace}
    \Abs\DP

    \vspace{\infvspace}
    \App\DP

    \vspace{\infvspace}
    \SigmaR\DP

    \vspace{\infvspace}
    \SumDep\DP
    
    \vspace{\infvspace}
    \PiLeft\DP
    \quad
    \PiRight\DP

    \vspace{\infvspace}
    \SubsetR\DP

    \vspace{\infvspace}
    \Subsum\DP
      
  \end{center}
  \caption{Calcul de coercion par prédicats - version déclarative}
  \label{fig:typing-decl-rules}
\end{figure}
}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "subset-typing"
%%% LaTeX-command: "TEXINPUTS=\"style:$TEXINPUTS\" latex"
%%% End: 
