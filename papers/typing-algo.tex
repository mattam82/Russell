
\newcommand{\AppA}[1][\Gamma]{
\TAX{App}
{$\talgo{#1}{f}{T} \quad \mualgo(T) = \Pi x : V. W : s$}
{$\talgo{#1}{u}{U} \quad \talgo{#1}{U, V}{s'}$}
{$\subalgo{#1}{U}{V} $}
{$\talgo{#1}{(f u)}{W [ u / x ]}$}
{}
}

\newcommand{\LetSumA}[1][\Gamma]{
  \TAX{LetSum}
  {$#1 \seq t : S$}
  {$\mualgo(S) = `S x : T. U $}
  {$#1, x : T, u : U \seq v : V $}
  {$#1 \seq \letml~(x, u) = t~\inml~v : V$}
  {$x,y `; #1$}
}

\newcommand{\PiLeftA}[1][\Gamma]{
  \BAX{PiLeft}
  {$\tgen{#1}{t}{S}$}
  {$\mualgo(S) = `S x : T.U$}
  {$\tgen{#1}{\pi_1~t}{T}$}
  {}
}

\newcommand{\PiRightA}[1][\Gamma]{
  \BAX{PiRight}
  {$\tgen{#1}{t}{S}$}
  {$\mualgo(S) = `S x : T.U$}
  {$\tgen{#1}{\pi_2~t}{U[\pi_1~t/x]}$}
  {}
}


\newcommand{\SumInfA}[1][\Gamma]{
  \TAX{SumInf}
  {$#1 \seq t : T $}
  {$#1 \seq u : U $}
  {$#1 \seq \Sigma \_ : T.U : s$}
  {$#1 \seq (t, u) : \Sigma \_ : T.U$}
  {}
}

\newcommand{\SumDepAold}[1][\Gamma]{
  \QAX{SumDep}
  {$#1 \seq t : T$}
  {$#1 \seq u : U'$}
  {$#1 \seq \Sigma x : T.U : s$}
  {$#1 \seq U' : s \quad U' \suba U[t/x]$}
  {$#1 \seq (x \coloneqq~t, u : U) : \Sigma x : T.U$}
  {}
}

\newcommand{\SumDepA}[1][\Gamma]{
  \QAX{SumDep}
  {$#1 \seq t : T' \quad T' \suba T$}
  {$#1 \seq u : U'$}
  {$#1 \seq \Sigma x : T.U : s$}
  {$#1 \seq U' : s \quad U' \suba U[t/x]$}
  {$#1 \seq \pair{\Sigma x : T.U}{t}{u} : \Sigma x : T.U$}
  {}
}

\def\typeaFig{
\begin{figure}[t]
  \begin{center}
    \def\fCenter{\wf}
    \def\type{\typea}
    \def\subt{\subta}
    \def\sub{\suba}
    
    \WfEmpty\DP
    \quad
    \WfVar\DP
    
    \def\fCenter{\typea}
    \vspace{\infvspace}
    \PropSet\DP
%    \quad
%    \TypeType\DP
    
    \vspace{\infvspace}
    \Var\DP
    
    \vspace{\infvspace}
    \Prod\DP
    
    \vspace{\infvspace}
    \Abs\DP

    \vspace{\infvspace}
    \AppA\DP

%    \vspace{\infvspace}
%    \LetIn\DP
    
    \vspace{\infvspace}
    \SigmaR\DP

%    \vspace{\infvspace}
%    \SumInfA\DP

    \vspace{\infvspace}
    \SumDepA\DP
    
    \vspace{\infvspace}
    \PiLeftA\DP
    \quad
    \PiRightA\DP
    %\LetSumA\DP
    
    \vspace{\infvspace}
    \Subset\DP
  \end{center}
  \caption{Calcul de coercion par prédicats - version algorithmique}
  \label{fig:typing-algo-rules}
\end{figure}
}

\def\typemuaFig{
  \begin{figure}[ht]
    \begin{eqnarray*}
      \mualgo'(\mysubset{x}{U}{P}) & "=>" & \mualgo'(\downarrow{U}) \\
      \mualgo'(x)                & "=>" & x \\
      \\
      \mualgo(x) & "=>" & \mualgo' (\downarrow{x})
    \end{eqnarray*}
    \caption{Définition de $\mualgo$}
    \label{fig:mualgo-definition}
\end{figure}
}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "subset-typing"
%%% LaTeX-command: "TEXINPUTS=\"style:$TEXINPUTS\" latex"
%%% End: 
