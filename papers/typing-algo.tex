\newcommand{\AppAFull}[9][\Gamma]{
\TAX{App}
{$\tgen{#1}{#2}{#3} \quad \mualgo{#3} = \Pi #4 : #5. #6$}
{$\tgen{#1}{#8}{#9}$} % \quad \tgen{#1}{#9, #5}{#7'}$}
{$\subalgo{#1}{#9}{#5}{#7}$}
{$\tgen{#1}{(#2 #8)}{#6 [ #8 / #4 ]}$}
{}
}

\newcommand{\AppA}[1][\Gamma]{\AppAFull[#1]{f}{T}{x}{V}{W}{s}{u}{U}}

\newcommand{\PiLeftAFull}[6][\Gamma]{
  \BAX{PiLeft}
  {$\tgen{#1}{#2}{#3}$}
  {$\mualgo{#3} = `S #4 : #5.#6$}
  {$\tgen{#1}{\pi_1~#2}{#5}$}
  {}
}

\newcommand{\PiLeftA}[1][\Gamma]{\PiLeftAFull[#1]{t}{S}{x}{T}{U}}

\newcommand{\PiRightAFull}[6][\Gamma]{
  \BAX{PiRight}
  {$\tgen{#1}{#2}{#3}$}
  {$\mualgo{#3} = `S #4 : #5.#6$}
  {$\tgen{#1}{\pi_2~#2}{#6[\pi_1~#2/#4]}$}
  {}
}

\newcommand{\PiRightA}[1][\Gamma]{\PiRightAFull[#1]{t}{S}{x}{T}{U}}

\newcommand{\SumDepAFull}[9][\Gamma]{
  \TAXWide{SumDep}
  {$\tgen{#1}{\Sigma #2 : #5.#6}{#7}$}
  {$\tgensub{#1}{#3}{#8}{#5}{s}$}
  {$\tgensub{#1}{#4}{#9}{#6[#3/#2]}{s}$}
  {$\tgen{#1}{\pair{\Sigma #2 : #5.#6}{#3}{#4}}{\Sigma #2 : #5.#6}$}
  {}
}

\newcommand{\SumDepAFullWide}[9][\Gamma]{
  \TAXWide{SumDep}
  {$\tgen{#1}{\Sigma #2 : #5.#6}{#7}$}
  {$\tgensub{#1}{#3}{#8}{#5}{s}$}
  {$\tgensub{#1}{#4}{#9}{#6[#3/#2]}{s}$}
  {$\tgen{#1}{\pair{\Sigma #2 : #5.#6}{#3}{#4}}{\Sigma #2 : #5.#6}$}
  {}
}

\newcommand{\SumDepA}[1][\Gamma]{\SumDepAFull[#1]{x}{t}{u}{T}{U}{s}{T'}{U'}}


\def\typeaFig{
\begin{figure}[t]
  \begin{center}
    \def\fCenter{\wf}
    \def\type{\typea}
    \def\subt{\subta}
    \def\sub{\suba}
    
    \WfEmpty\DP
    \quad
    \WfVar\DP
    
    \def\fCenter{\typea}
    \vspace{\infvspace}
    \PropSet\DP
%    \quad
%    \TypeType\DP
    
    \vspace{\infvspace}
    \Var\DP
    
    \vspace{\infvspace}
    \Prod\DP
    
    \vspace{\infvspace}
    \Abs\DP
    
    \vspace{\infvspace}
    \AppA\DP
    
    \vspace{\infvspace}
    \SigmaR\DP
    
    \vspace{\infvspace}
    \SumDepA\DP
    
    \vspace{\infvspace}
    \PiLeftA\DP
    \quad
    \PiRightA\DP
        
    \vspace{\infvspace}
    \SubsetR\DP
  \end{center}
  \caption{Calcul de coercion par prédicats - version algorithmique}
  \label{fig:typing-algo-rules}
\end{figure}
}

\newcommand{\typemuaFig}[1][Définition de $\mualgo$]{%
  \begin{figure}[ht]
    \vspace{-1em}
    \[\begin{array}{lcll}
      \mualgo{x} & "=>" & \mualgo{U} & \sidecond{$\hnf{x} "=" \mysubset{x}{U}{P}$} \\
      \mualgo{x} & "=>" & x & \otherwise
    \end{array}\]
    \vspace{-2em}
    \caption{#1}
    \label{fig:mualgo-definition}
    \vspace{-1em}
\end{figure}
}

\def\CCtoRussellforgetFig{
  $\begin{array}{lcl}
%     (\mysubset{x}{U}{P})^{\circ} & = & U^{\circ} \\
    (\eltpit~t)^{\circ} & = & t^{\circ} \\
    (\elt{T}{P}{t}{p})^{\circ} & = & t^{\circ} \\
    (\eltpip~t)^{\circ} & = & `_
  \end{array}$
}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "subset-typing"
%%% LaTeX-command: "TEXINPUTS=\"style:$TEXINPUTS\" latex"
%%% End: 
